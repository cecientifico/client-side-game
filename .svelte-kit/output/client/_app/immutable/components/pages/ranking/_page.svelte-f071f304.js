import{S as le,i as ae,s as re,k as u,q as S,a as I,l as d,m as h,r as H,h as r,c as R,n as f,b as T,E as a,P as J,M as $,Q as ce,o as ne,u as oe}from"../../../chunks/index-023448eb.js";import{a as Q}from"../../../chunks/axios-fadae37e.js";import{j as ie,k as ue}from"../../../chunks/index-0bb4da3b-16c29612.js";import{c as z}from"../../../chunks/stores-27d4083a.js";function ee(k){let t,s,e,l,c,v,o,n;return{c(){t=u("div"),s=u("div"),e=I(),l=u("div"),c=I(),v=u("div"),o=I(),n=u("div"),this.h()},l(y){t=d(y,"DIV",{class:!0});var i=h(t);s=d(i,"DIV",{class:!0}),h(s).forEach(r),e=R(i),l=d(i,"DIV",{class:!0}),h(l).forEach(r),c=R(i),v=d(i,"DIV",{class:!0}),h(v).forEach(r),o=R(i),n=d(i,"DIV",{class:!0}),h(n).forEach(r),i.forEach(r),this.h()},h(){f(s,"class","ball ball-ne svelte-qj8gsu"),f(l,"class","ball ball-nw svelte-qj8gsu"),f(v,"class","ball ball-sw svelte-qj8gsu"),f(n,"class","ball ball-se svelte-qj8gsu"),f(t,"class","loading-animation svelte-qj8gsu")},m(y,i){T(y,t,i),a(t,s),a(t,e),a(t,l),a(t,c),a(t,v),a(t,o),a(t,n)},d(y){y&&r(t)}}}function se(k){let t,s=k[0].userRecord+"",e,l,c,v;return{c(){t=u("h3"),e=S(s),l=I(),c=u("p"),v=S("Seu recorde"),this.h()},l(o){t=d(o,"H3",{class:!0});var n=h(t);e=H(n,s),n.forEach(r),l=R(o),c=d(o,"P",{class:!0});var y=h(c);v=H(y,"Seu recorde"),y.forEach(r),this.h()},h(){f(t,"class","svelte-qj8gsu"),f(c,"class","svelte-qj8gsu")},m(o,n){T(o,t,n),a(t,e),T(o,l,n),T(o,c,n),a(c,v)},p(o,n){n&1&&s!==(s=o[0].userRecord+"")&&oe(e,s)},d(o){o&&r(t),o&&r(l),o&&r(c)}}}function de(k){let t,s,e,l,c,v,o,n,y,i,p,j,q,m,g,b,V,D,x,B,F,C,G,K,E=k[1]&&ee(),_=!k[1]&&se(k);return{c(){t=u("main"),s=u("div"),e=u("header"),l=u("nav"),c=u("div"),v=S("Aventura"),o=I(),n=u("div"),y=S("Casual"),i=I(),p=u("div"),j=S("Arcade"),q=I(),m=u("main"),g=u("div"),E&&E.c(),b=I(),_&&_.c(),V=I(),D=u("div"),x=u("h3"),B=S("Ranking mundial"),F=I(),C=u("ul"),this.h()},l(A){t=d(A,"MAIN",{class:!0});var L=h(t);s=d(L,"DIV",{class:!0});var w=h(s);e=d(w,"HEADER",{class:!0});var O=h(e);l=d(O,"NAV",{class:!0});var M=h(l);c=d(M,"DIV",{class:!0});var W=h(c);v=H(W,"Aventura"),W.forEach(r),o=R(M),n=d(M,"DIV",{class:!0});var X=h(n);y=H(X,"Casual"),X.forEach(r),i=R(M),p=d(M,"DIV",{class:!0});var Y=h(p);j=H(Y,"Arcade"),Y.forEach(r),M.forEach(r),O.forEach(r),q=R(w),m=d(w,"MAIN",{class:!0});var N=h(m);g=d(N,"DIV",{class:!0});var P=h(g);E&&E.l(P),b=R(P),_&&_.l(P),P.forEach(r),V=R(N),D=d(N,"DIV",{class:!0});var U=h(D);x=d(U,"H3",{class:!0});var Z=h(x);B=H(Z,"Ranking mundial"),Z.forEach(r),F=R(U),C=d(U,"UL",{class:!0});var te=h(C);te.forEach(r),U.forEach(r),N.forEach(r),w.forEach(r),L.forEach(r),this.h()},h(){f(c,"class","nav-items svelte-qj8gsu"),f(n,"class","nav-items svelte-qj8gsu"),f(p,"class","nav-items svelte-qj8gsu"),f(l,"class","svelte-qj8gsu"),f(e,"class","svelte-qj8gsu"),f(g,"class","user-record svelte-qj8gsu"),f(x,"class","svelte-qj8gsu"),f(C,"class","ranks world-hanks"),f(D,"class","world-ranking svelte-qj8gsu"),f(m,"class","svelte-qj8gsu"),f(s,"class","card svelte-qj8gsu"),f(t,"class","page svelte-qj8gsu")},m(A,L){T(A,t,L),a(t,s),a(s,e),a(e,l),a(l,c),a(c,v),a(l,o),a(l,n),a(n,y),a(l,i),a(l,p),a(p,j),a(s,q),a(s,m),a(m,g),E&&E.m(g,null),a(g,b),_&&_.m(g,null),a(m,V),a(m,D),a(D,x),a(x,B),a(D,F),a(D,C),G||(K=[J(c,"click",k[3]),J(n,"click",k[4]),J(p,"click",k[5])],G=!0)},p(A,[L]){A[1]?E||(E=ee(),E.c(),E.m(g,b)):E&&(E.d(1),E=null),A[1]?_&&(_.d(1),_=null):_?_.p(A,L):(_=se(A),_.c(),_.m(g,null))},i:$,o:$,d(A){A&&r(t),E&&E.d(),_&&_.d(),G=!1,ce(K)}}}function he(k,t,s){let e={modality:["adventure","casually","arcade"],displayName:["Aventura","Casual","Arcade"],index:0,points:[],userRecord:0},l=!0;const c=ie();ne(async()=>{const i=document.querySelectorAll(".nav-items");i.forEach(p=>{p.classList.remove("active")}),i[e.index].classList.add("active"),ue(c,p=>{if(!!p){if(Q.get(`${z}/all-results/${e.modality[e.index]}/`).then(j=>{s(0,e.points=j.data.results,e);const q=document.querySelector(".ranks");q.innerHTML="",e.points.forEach((m,g)=>{const b=document.createElement("li");b.innerHTML=`
              <p>${g+1} - ${m.name}</p>
              <h3>${m[e.modality[e.index]][0].results}</h3>
            `,q.appendChild(b)})}).catch(()=>{s(0,e.points=[],e)}),p.isAnonymous){s(1,l=!1),s(0,e.userRecord=0,e);return}Q.get(`${z}/user-results/${e.modality[e.index]}/${p.uid}`).then(j=>{s(1,l=!1);const q=j.data.result[e.modality[e.index]][0].results;s(0,e.userRecord=q,e)}).catch(()=>{s(1,l=!0),s(0,e.userRecord=0,e)})}})});const v=async i=>{s(0,e.index=i,e),s(1,l=!0);const p=document.querySelector(".ranks"),j=document.querySelectorAll(".nav-items");if(j.forEach(q=>{q.classList.remove("active")}),j[e.index].classList.add("active"),p.innerHTML="",Q.get(`${z}/all-results/${e.modality[e.index]}/`).then(q=>{s(0,e.points=q.data.results,e);const m=document.querySelector(".ranks");m.innerHTML="",e.points.forEach((g,b)=>{const V=document.createElement("li");V.innerHTML=`
              <p>${b+1} - ${g.name}</p>
              <h3>${g[e.modality[e.index]][0].results}</h3>
            `,m.appendChild(V)})}).catch(()=>{s(0,e.points=[],e)}),c.currentUser.isAnonymous){s(1,l=!1),s(0,e.userRecord=0,e);return}Q.get(`${z}/user-results/${e.modality[e.index]}/${c.currentUser.uid}`).then(q=>{s(1,l=!1);const m=q.data.result[e.modality[e.index]][0].results;s(0,e.userRecord=m,e)}).catch(()=>{s(1,l=!1),s(0,e.userRecord=0,e)})};return[e,l,v,()=>v(0),()=>v(1),()=>v(2)]}class pe extends le{constructor(t){super(),ae(this,t,he,de,re,{})}}export{pe as default};
